<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_crystal</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.viewMode==1 {visible=0;}//用于废弃的观景模式
global.debug=0;//DEBUG模式开关

hpLBAdd=1;//用于炼狱挑战01期回血增益
timeSlower=1;//用于炼狱挑战01期限时效果延长增益
hpRemove=1;//用于炼狱挑战01期掉血翻倍DEBUFF

global.scoreLowest = 0;//用于炼狱挑战02期最低分数保障增益
shield=0;//用于炼狱挑战02期护盾增益
scoreRemove=0;//用于炼狱挑战02期分数扣除DEBUFF

scoreBecome=99999;//用于炼狱挑战03期分数归置DEBUFF

hpLowest=0;//废弃
hpExit=-1;//废弃
maxSize=1;//记不起来是干啥的了
global.hellScore=0;//记录炼狱挑战实时分数

global.key=0;//是否携带钥匙
lost=1200;//都市血量初始化
global.keepLostZero=0;//寂秋困难第三面
prisonOxygen=1200;//囚生血量初始化
global.bubble=0;//星空泡泡状态

x_chushi=x;
y_chushi=y;
global.x_chazhi=0;
global.y_chazhi=0;
global.dead=0;
suilie=0;
if global.hellchallenge==0 {
    global.hp=3+2*global.easy;
} else {
    global.hp=9;
}
if global.oneblood==1 {global.hp=1;}
jiance=instance_create(mouse_x,mouse_y,obj_crystal_jiance);
if (global.hellchallenge!=0) {
    switch(global.challengeNumber) {
        case 1:
            if (global.cscore&gt;=5000 and global.cscore&lt;15000) {
                hpLBAdd = 2;
            }
            if (global.cscore&gt;=10000 and global.cscore&lt;20000) {
                timeSlower = 1.3;
            }
            if (global.cscore&gt;=15000) {
                hpLBAdd = 3;
            }
            if (global.cscore&gt;=20000) {
                timeSlower = 1.7;
            }
            if (global.cscore&gt;=25000) {
                image_xscale=3;
                image_yscale=3;
                maxSize=3;
            }
            if (global.cscore&gt;=30000) {
                hpRemove=2;
            }
            break;
        case 2:
            if (global.cscore&gt;=5000 and global.cscore&lt;15000) {
                global.scoreLowest=1000;
            }
            if (global.cscore&gt;=10000 and global.cscore&lt;20000) {
                shield=1;
            }
            if (global.cscore&gt;=15000) {
                global.scoreLowest=3000;
            }
            if (global.cscore&gt;=20000) {
                shield=3;
            }
            if (global.cscore&gt;=25000) {
                scoreRemove=250;
            }
            if (global.cscore&gt;=30000) {
                room_speed*=1.5;
            }
            break;
        case 3:
            if (global.cscore&gt;=5000 and global.cscore&lt;15000) {
                room_speed=60*0.95;
            }
            if (global.cscore&gt;=10000 and global.cscore&lt;20000) {
                image_xscale=0.95;
                image_yscale=0.95;
                maxSize=0.95;
            }
            if (global.cscore&gt;=15000) {
                room_speed=60*0.85;
            }
            if (global.cscore&gt;=20000) {
                image_xscale=0.85;
                image_yscale=0.85;
                maxSize=0.85;
            }
            if (global.cscore&gt;=25000) {
                scoreBecome = 5000;
            }
            if (global.cscore&gt;=30000) {
                scoreBecome = 0;
            }
            break;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>image_alpha=1;
suilie=0;
global.dead=0;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if suilie=0 {
    if global.hellchallenge==0 {
        if (shield&gt;0) {
            shield-=1;
        } else {
            global.hp-=hpRemove;
            if global.hp&lt;0 {global.hp=0;}
        }
    } else {
        objGUILBCrystal.hscore-=scoreRemove;
        if (global.hp&gt;hpLowest) {
            if (shield&gt;0) {
                shield-=1;
            } else {
                global.hp-=hpRemove;
                //if global.hp&lt;hpLowest {global.hp=hpLowest;}
            }
        }
        if (scoreBecome!=99999 and global.hellScore&gt;scoreBecome) {objGUILBCrystal.hscore = scoreBecome;}
    }
    if (room!=room_neon and room!=room_starrysky and global.hellchallenge==0) {
        with(obj_key_follow){instance_destroy();}
        global.key=0;
    }
    image_alpha=0.5;
    if (image_xscale&gt;maxSize-0.2) {
        repeat(5){
            image_xscale-=0.01;
            image_yscale-=0.01;
        }
    }
    switch(global.skinOnChoose){
        case 1:
            repeat(5){instance_create(x,y,obj_sjsp);}
            break;
        case 2:
            if (global.hp!=0 and global.hp&gt;hpExit) {
                sp1=instance_create(x,y,obj_skin_broke_pieces);
                with(sp1){move=1;}
                sp2=instance_create(x,y,obj_skin_broke_pieces);
                with(sp2){move=2;}
                sp3=instance_create(x,y,obj_skin_broke_pieces);
                with(sp3){move=3;}
                sp4=instance_create(x,y,obj_skin_broke_pieces);
                with(sp4){move=4;}
            } else {
                instance_create(x+2,y,obj_skin_broke_left);
                instance_create(x-2,y,obj_skin_broke_right);
            }
            break;
        case 3:
            if (global.hp!=0 and global.hp&gt;hpExit) {
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){move=1;pos=0;xs=xstart-r;ys=ystart;}
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){move=1;pos=90;xs=xstart;ys=ystart-r;}
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){move=1;pos=180;xs=xstart+r;ys=ystart;}
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){move=1;pos=270;xs=xstart;ys=ystart+r;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){move=1;pos=0;xs=xstart-r;ys=ystart;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){move=1;pos=90;xs=xstart;ys=ystart-r;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){move=1;pos=180;xs=xstart+r;ys=ystart;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){move=1;pos=270;xs=xstart;ys=ystart+r;}
            } else {
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){vspeed=3;}
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){vspeed=-3;}
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){hspeed=3;}
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){hspeed=-3;}
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){vspeed=6;}
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){vspeed=-6;}
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){hspeed=6;}
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){hspeed=-6;}
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){vspeed=4.5;hspeed=4.5;}
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){vspeed=-4.5;hspeed=4.5;}
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){hspeed=-4.5;vspeed=4.5;}
                sp=instance_create(x,y,obj_skin_megaman_ball);
                with(sp){hspeed=-4.5;vspeed=-4.5;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){vspeed=3;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){vspeed=-3;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){hspeed=3;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){hspeed=-3;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){vspeed=6;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){vspeed=-6;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){hspeed=6;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){hspeed=-6;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){vspeed=4.5;hspeed=4.5;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){vspeed=-4.5;hspeed=4.5;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){hspeed=-4.5;vspeed=4.5;}
                sp=instance_create(x,y,obj_skin_megaman_ballback);
                with(sp){hspeed=-4.5;vspeed=-4.5;}
            }
            break;
        case 4:
            if (global.hp!=0 and global.hp&gt;hpExit) {
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){nvspeed=-10;nhspeed=-10;alarm[0]=1;alarm[1]=16;}
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){nvspeed=10;nhspeed=-10;alarm[0]=1;alarm[1]=16;}
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){nvspeed=-10;nhspeed=10;alarm[0]=1;alarm[1]=16;}
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){nvspeed=10;nhspeed=10;alarm[0]=1;alarm[1]=16;}
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){nhspeed=10;alarm[0]=20;alarm[1]=35;}
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){nhspeed=-10;alarm[0]=20;alarm[1]=35;}
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){nvspeed=-10;alarm[0]=20;alarm[1]=35;}
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){nvspeed=10;alarm[0]=20;alarm[1]=35;}
            } else {
                instance_create(x,y,obj_skin_kirby_crystal);
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){image_xscale=1;image_yscale=1;nvspeed=-4;nhspeed=-4;alarm[0]=1;alarm[1]=1200;}
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){image_xscale=1;image_yscale=1;nvspeed=4;nhspeed=-4;alarm[0]=1;alarm[1]=1200;}
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){image_xscale=1;image_yscale=1;nvspeed=-4;nhspeed=4;alarm[0]=1;alarm[1]=1200;}
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){image_xscale=1;image_yscale=1;nvspeed=4;nhspeed=4;alarm[0]=1;alarm[1]=1200;}
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){image_xscale=1;image_yscale=1;nhspeed=6;alarm[0]=1;alarm[1]=1200;}
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){image_xscale=1;image_yscale=1;nhspeed=-6;alarm[0]=1;alarm[1]=1200;}
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){image_xscale=1;image_yscale=1;nvspeed=-6;alarm[0]=1;alarm[1]=1200;}
                sp=instance_create(x,y,obj_skin_kirby_star);
                with(sp){image_xscale=1;image_yscale=1;nvspeed=6;alarm[0]=1;alarm[1]=1200;}
            }
            break;
        case 5:
            if (global.hp!=0 and global.hp&gt;hpExit) {
                sp=instance_create(x,y,obj_skin_gravity);
                with(sp){animation=1;}
            } else {
                sp=instance_create(x,y,obj_skin_gravity);
                with(sp){animation=0;}
            }
            break;
        case 6:
            if (global.hp!=0 and global.hp&gt;hpExit) {
                repeat(20){instance_create(x,y,obj_blood_drop);}
            } else {
                repeat(300){instance_create(x,y,obj_blood_drop);}
            }
            break;
        case 7:
            if (global.hp!=0 and global.hp&gt;hpExit) {
                Firework(0,x,y,10);
                if global.sound=1 {audio_play_sound(snd_firework,2,0)};
            } else {
                Firework(0,300,300,15);
                Firework(0,1432,500,15);
                Firework(0,960,800,15);
                if global.sound=1 {audio_play_sound(snd_firework,2,0)};
            }
            break;
    }
}
if lost&lt;=0 {
    if (global.ach10=0) {
        a=instance_create(1920,0,objGUIAchiGet);
        a.spr=10;
        global.ach10=1;
        if global.sound=1 {audio_play_sound(snd_star,2,0)};
        Save();
    }
}
if global.keepLostZero==0 {lost=1200;} else {lost=1;}
prisonOxygen=1200;
if (global.rDiamondTemp!=1) {global.rDiamondCreate=0;}
x_chushi=x;
y_chushi=y;
jiance.x_chushi=mouse_x;
jiance.y_chushi=mouse_y;
global.x_chazhi=0;
global.y_chazhi=0;
suilie=1;
if x&lt;global.rebornX {x+=abs(x-global.rebornX)/10};
if x&gt;global.rebornX {x-=abs(x-global.rebornX)/10};
if y&lt;global.rebornY {y+=abs(y-global.rebornY)/10};
if y&gt;global.rebornY {y-=abs(y-global.rebornY)/10};
if distance_to_point(global.rebornX,global.rebornY)&lt;10 {x=global.rebornX;y=global.rebornY};
if (x=global.rebornX and y=global.rebornY) {alarm[0]=-1} else {alarm[0]=1};
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.dead=0 {
    if x&gt;=20 and x&lt;=1900{
        x=x_chushi+global.x_chazhi;
    } else {if x&lt;20 {x=21} else {x=1899}}
    if y&gt;=view_yview+20 and y&lt;=view_yview+1060{
        y=y_chushi+global.y_chazhi;
    } else {if y&lt;view_yview+20 {y=view_yview+21} else {y=view_yview+1059}}
    //if (!collision_point(x,y,obj_road,false,true) || collision_point(x,y,obj_lock,false,true) || collision_point(x,y,obj_zhangai,false,true)) {
    if ((!place_meeting(x,y,obj_road) and global.debug==0 and global.bubble==0) or (!place_meeting(x,y,obj_road) and !place_meeting(x,y,obj_road_cloud) and global.debug==0 and global.bubble==1) or lost&lt;=0 or prisonOxygen&lt;=0) {
        global.dead=1;
        ZhenDong();
        alarm[0]=1;
        alarm[1]=60;
        LevelReLoad();
    };
};
if global.hp==0{
    if (global.hellchallenge!=0) {HCScoresCounter();}
    global.hp=-1;
    global.death+=1;
    global.rDiamondTemp=0;
    if instance_exists(obj_reddiamond_follow){with(obj_reddiamond_follow){instance_destroy();}}
    Save();
    instance_create(960,540,objGUIDeadBgd);
    instance_destroy();
}

if(room==room_prisonrun){
    if place_meeting(x,y,obj_prisonrun_light) {
        prisonOxygen-=20;
    }
    else {
        if prisonOxygen&lt;1200 {
            prisonOxygen+=10;
        }
    }
}
if (room==room_starrysky){
    if (place_meeting(x,y,obj_road)){
        oid = instance_place(x,y,obj_road);
        with(oid){
            if (!place_meeting(x,y,obj_road_starrysky_flash)){
                event_perform(ev_other,ev_user0);
            }
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="56">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>x_chushi=x;
y_chushi=y;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>x_chushi=x;
y_chushi=y;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self();
if global.hellchallenge!=0 {
    switch(global.language){
        case 1:
            draw_text_colour(100,1000,"Scores:"+string(global.hellScore),c_white,c_white,c_white,c_white,1);
            draw_text_colour(300,1000,"+Shield:"+string(shield),c_white,c_white,c_white,c_white,1);
            break;
        case 2:
            draw_text_colour(100,1000,"分數:"+string(global.hellScore),c_white,c_white,c_white,c_white,1);
            draw_text_colour(300,1000,"+護罩x"+string(shield),c_white,c_white,c_white,c_white,1);
            break;
        case 3:
            draw_text_colour(100,1000,"分数:"+string(global.hellScore),c_white,c_white,c_white,c_white,1);
            draw_text_colour(300,1000,"+护盾x"+string(shield),c_white,c_white,c_white,c_white,1);
            break;
    }
}
if (lost&lt;1200) {
    draw_rectangle_colour(x-60,y-70,x+60,y-50,c_gray,c_gray,c_gray,c_gray,0);
    draw_rectangle_colour(x-60,y-70,x+(lost/10)-60,y-50,c_white,c_white,c_white,c_white,0);
}
if (prisonOxygen&lt;1200) {
    draw_rectangle_colour(x-60,y-70,x+60,y-50,c_gray,c_gray,c_gray,c_gray,0);
    draw_rectangle_colour(x-60,y-70,x+(prisonOxygen/10)-60,y-50,c_red,c_red,c_red,c_red,0);
}
if (global.bubble==1) {draw_sprite_ext(spr_starrysky_bubble,0,x,y,image_xscale,image_yscale,0,c_white,1);}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="37">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//global.debug=!global.debug;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>28,46</point>
    <point>46,46</point>
  </PhysicsShapePoints>
</object>
